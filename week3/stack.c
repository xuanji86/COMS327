#include<stdio.h>
#include<stack.h>

map_t *world[399][399];
world[199][199] = malloc(sizeof(*world[199][199]));
gen_map(world[199][199],...);
while(input!=q){
    if(!world[y][x]{
        gen_map(world[y][x],...);
    })
}